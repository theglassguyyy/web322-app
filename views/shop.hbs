<div class="row">
  <!-- Main Content Section -->
  <section class="main col-md-9">
    <item>
      <!-- Check if there is a post to show -->
      {{#if data.post}}
        <div class="row align-items-start">
          <div class="col-md-4">
            <h2 class="text-center">{{data.post.title}}</h2>
            <img
              src="{{data.post.featureImage}}"
              alt="{{data.post.title}}"
              class="img-fluid"
            />
          </div>

          <div class="col-md-8">
            <div class="content">
              <p class="mt-3">{{{data.post.body}}}</p>
              <p>
                <strong>Price:</strong> ${{data.post.price}}<br />
                <strong>Category:</strong> {{data.post.category}}<br />
                <strong>Last Updated:</strong> {{data.post.postDate}}
              </p>
            </div>
          </div>
        </div>
      {{else}}
        <!-- Show a message if no post is available -->
        <div class="text-center">
          <h2>{{data.message}}</h2>
          <p>Please try another Post / Category</p>
        </div>
      {{/if}}
    </item>
  </section>

  <!-- Sidebar Section -->
  <aside class="col-md-3">
    <div class="sidebar">
      <!-- Items List -->
      {{#if data.posts}}
        <h4>Items</h4>
        <ul class="list-group mb-3">
          {{#each data.posts}}
            <li class="list-group-item">
              <a href="/shop/{{this.id}}?category={{../data.viewingCategory}}" class="text-decoration-none">
                {{this.title}}
              </a>
            </li>
          {{/each}}
        </ul>
      {{/if}}

      <!-- Categories List -->
      {{#if data.categories}}
        {{#if data.categories.length}}
          <h4>Categories</h4>
          <ul class="list-group">
            {{#each data.categories}}
              <li class="list-group-item">
                <a href="/shop?category={{this.id}}" class="text-decoration-none">
                  {{this.category}}
                </a>
              </li>
            {{/each}}
          </ul>
        {{else}}
          <p>No categories available</p>
        {{/if}}
      {{else}}
        <p>Failed to load categories</p>
      {{/if}}
    </div>
  </aside>
</div>
